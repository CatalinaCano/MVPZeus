<div class="pagetitle">

    <br>
    <nav>
      <ol class="breadcrumb">
        <li class="breadcrumb-item"><i class="bx bxs-home"></i> Home</li>
        <li class="breadcrumb-item active">     <i class="bi bi-grid"></i> Dashboard</li>
      </ol>
    </nav>
  </div>
  <br>
  <section class="section">
    <div class="container">
      <div class="py-5 text-center">
          <img class="d-block mx-auto mb-4" width="50%" src="../../../assets/img/undraw_Domain_names_re_0uun.svg" alt="">
          <h1> <i class="bi bi-search"></i>  Buscar Cliente</h1>
          <small> En esta sección podrás visualizar y descargar todos los movimientos asociados a tu negocio.</small>
      </div>
    </div>
   
    <div  *ngIf="showInstruction" class="alert alert-info alert-dismissible fade show" role="alert">
      <i class="bx bx-check"></i> Digita el número de documento que deseas buscar en la barra de busqueda.
      <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
    </div>
      <div class="card-body center-block">
          <div class="form-body">
              <div class="row p-t-20">
                  <div class="row" >
                      <form class=" col-md-12 p-t-20 mt-4 form-inline" [formGroup]="forma" novalidate>
                          <div class="input-group">
                            <label class="mb-0" for="idNumber">Número de Documento:  <span style="font-size: 20px; color:red">*</span></label>
                              <input type="number" class="form-control border-0 small" placeholder="Buscar..." formControlName="numeroDocumento" aria-label="Search" (keyup.enter)="guardar()">
                              <div class="input-group-append">
                                  <button (click)="guardar()" [disabled]="!forma.valid" class="btn btn-primary" type="button">
                                    <i class="bi bi-search"></i>
                                  </button>
                              </div>
                              <div class="invalid-feedback">
                                El campo Número de Documento es obligatorio.<br>Ingrese al menos 5 números.
                            </div>
                          </div>
                      </form>
                  </div>
              </div>
          </div>
      </div>
      

      <div *ngIf="Noresults" class="alert alert-danger alert-dismissible fade show" role="alert">
        No hay resultados asociados a la busqueda.
        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
      </div>

      <div *ngIf="ready">
        <section class="section dashboard">
          <div class="row">
            <div class="col-lg-12">
              <div class="row">
                <div class="col-xxl-3 col-md-3">
                  <div class="card info-card sales-card">
                    <div class="filter">
                      <a class="icon" href="#" data-bs-toggle="dropdown"><i class="bi bi-three-dots"></i></a>
                    </div>
    
                    <div class="card-body">
                      <h5 class="card-title">{{client.indexes[0].name}}</h5>
                      <div class="d-flex align-items-center">
                        <div class="card-icon rounded-circle d-flex align-items-center justify-content-center">
                          <i class="bi bi-cart"></i>
                        </div>
                        <div class="ps-3">
                          <h6>{{client.indexes[0].value | number}}</h6>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
    
                <div class="col-xxl-3 col-md-3">
                  <div class="card info-card revenue-card">
                    <div class="filter">
                      <a class="icon"  data-bs-toggle="dropdown"><i class="bi bi-three-dots"></i></a>
                    </div>
                    <div class="card-body">
                      <h5 class="card-title">{{client.indexes[1].name}}</h5>
                      <div class="d-flex align-items-center">
                        <div class="card-icon rounded-circle d-flex align-items-center justify-content-center">
                          <i class="bi bi-currency-dollar"></i>
                        </div>
                        <div class="ps-3">
                          <h6>{{client.indexes[1].value | number}}</h6>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
  
  
                <div class="col-xxl-3 col-xl-3">
                  <div class="card info-card customers-card">
                    <div class="filter">
                      <a class="icon" data-bs-toggle="dropdown"><i class="bi bi-three-dots"></i></a>
                    </div>
                    <div class="card-body">
                      <h5 class="card-title">{{client.indexes[2].name}}</h5>
                      <div class="d-flex align-items-center">
                        <div class="card-icon rounded-circle d-flex align-items-center justify-content-center">
                          <i class="bi bi-people"></i>
                        </div>
                        <div class="ps-3">
                          <h6>{{client.indexes[2].value | number}}</h6>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
  
                <div class="col-xxl-3 col-xl-3">
                  <div class="card info-card">
                    <div class="filter">
                      <a class="icon" href="#" data-bs-toggle="dropdown"><i class="bi bi-three-dots"></i></a>
                    </div>
                    <div class="card-body">
                      <h5 class="card-title">{{client.indexes[3].name}}</h5>
                      <div class="d-flex align-items-center">
                        <div class="card-icon rounded-circle d-flex align-items-center justify-content-center">
                          <i class="bx bx-chart"></i>
                        </div>
                        <div class="ps-3">
                          <h6>{{client.indexes[3].value | number}}</h6>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </section>
  
  
        <section class="section">
          <div class="row">
            <div class="col-lg-4">
    
              <div class="card">
                <div class="card-body">
                  <h5 class="card-title">Información del Cliente</h5>
                  <form>
                    <div class="row mb-3">
                      <label for="inputText" class="col-sm-2 col-form-label">NIT</label>
                      <div class="col-sm-10">
                        <input type="text" class="form-control" value={{client.id}} disabled>
                      </div>
                    </div>
                    <div class="row mb-3">
                      <label for="inputEmail" class="col-sm-4 col-form-label">Razón Social</label>
                      <div class="col-sm-8">
                        <input type="text" class="form-control" value={{client.name}} disabled>
                      </div>
                    </div>
                    <div class="row mb-3">
                      <label for="inputPassword" class="col-sm-4 col-form-label">Supervisor</label>
                      <div class="col-sm-8">
                        <input type="text" class="form-control" value={{client.supervisor}} disabled>
                      </div>
                    </div>
                    <div class="row mb-3">
                      <label for="inputNumber" class="col-sm-3 col-form-label">Región</label>
                      <div class="col-sm-9">
                        <input type="text" class="form-control" value={{client.region}} disabled>
                      </div>
                    </div>
                    <div class="row mb-3">
                      <label class="col-sm-4 col-form-label">Macrosector</label>
                      <div class="col-sm-8">
                        <input type="text" class="form-control" value={{client.macrosector}} disabled>
                      </div>
                    </div>
                    <div class="row mb-3">
                      <div class="col-sm-12">
                        <textarea class="form-control" style="height: 500px" disabled> {{client.description}}</textarea>
                      </div>
                    </div>
                  </form>
                </div>
              </div>
    
            </div>
    
            <div class="col-lg-8">
    
              <div class="card">
                <div class="card-body">
                  <h5 class="card-title">Ingresos</h5>
                  <div class="table-responsive mt-3">
                    <table class="table table-bordered table-responsive table-hover">
                      <thead class="thead-dark text-center">
                        <tr>
                          <th scope="col">AÑO</th>
                          <th scope="col">INGRESOS OPERACIONALES</th>
                          <th scope="col">GANANCIA (PERDIDA)</th>
                          <th scope="col">TOTAL ACTIVOS</th>
                          <th scope="col">TOTAL PASIVOS</th>
                          <th scope="col">TOTAL PATRIMONIO</th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr *ngFor="let m of client.metrics" class="text-center" >
                          <td>{{m.year }}</td>
                          <td>{{m.operationalRevenue |  currency}}</td>
                          <td>{{m.lostProfit |  currency}}</td>
                          <td>{{m.totalAssets |  currency}}</td>
                          <td>{{m.totalLiabilities |  currency}}</td>
                          <td>{{m.totalEquity |  currency}}</td>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                
  
                </div>
              </div>
  
              <div class="row">
                <div class="card">
                  <div class="card-body">
                    <h5 class="card-title">Indicadores</h5>
      
                    <!-- List group with custom content -->
                    <ol class="list-group list-group-numbered">
                      <li class="list-group-item d-flex justify-content-between align-items-start" *ngFor="let i of client.indexes" >
                        <div class="ms-2 me-auto">
                          <div class="fw-bold">{{i.name}}</div>
                        </div>
                        <span class="badge bg-primary rounded-pill">{{i.value | number}}</span>
                      </li>
                    </ol>
      
                  </div>
                </div>
              </div>
            </div>
          </div>
        </section>
  
        <section class="section">
          <div class="card">
            <div class="card-body">
              <h5 class="card-title">Gráfica</h5>
              <div style="text-align:center">
                <apx-chart
                  [series]="chartOptions.series"
                  [chart]="chartOptions.chart"
                  [xaxis]="chartOptions.xaxis"
                ></apx-chart>
              </div>
              
            </div>
          </div>
  
        </section>


      
  
  
      </div>

      <div *ngIf="showButton"class="container-fluid h-100"> 
        <div class="row w-100">
            <div class="col v-center">
                <button (click)="reload()" class="btn btn-success d-block mx-auto">  <i class="bi bi-arrow-clockwise"></i>  Volver a Buscar </button>
            </div>  
        </div>
      </div>

      
      
  </section>